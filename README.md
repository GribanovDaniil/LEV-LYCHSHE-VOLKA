# Ansible скрипт для балансировки серверов web1 и web2

### В Inventory хранятся конфигурации (web_servers, rrobin)

### VagrantFile нужен, чтобы быстро поднять виртуалки.

### nginx.yml - это playbook для установки ПО (nginx) на сервера. Внутри него (плейбука) 3 роли: balancer, customer, selyavi. 

balancer - собственно сам балансировщик (настраивает балансировщик в round robin);

customer - сервера web1 или web2;

selyavi - отключает selinux и перезагружает сервер.

## Как запустить playbook?

### 1) Для начала следует закинуть в  inventory ipшники хостов с их именами.
### 2) После чего, для удобства просмотра и чтобы заметить изменения веб-страничек нужно в roles/templates/ поменять код шаблона html'a в файлике index.html.j2
### 3) Далее запускаем сам playbook (nginx.yml)
ansible-playbook nginx.yml -  исполняет все tasks файлы всех ролей, которые у нас прописаны.
### 4) В браузере в строке вписываем ipшник balacner'а ставим ":" и после пишем порт 8080.
## Вывод:

![изображение]()
![изображение](![IMG_2618](https://user-images.githubusercontent.com/113581434/231001853-c3f8c4fd-69c5-4cfb-a495-3529e155a9ca.PNG)
![изображение]()
